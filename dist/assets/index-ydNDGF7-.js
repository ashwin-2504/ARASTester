import{g as v,c as E,u as x}from"./button-D9MCpWZY.js";import{a as i}from"./vendor-C0kXtgpY.js";import{j as g}from"./index-DJrxjd9u.js";import{r as C}from"./dnd-g6nQuZkK.js";class h{static async pickFolder(){return await window.api.pickFolder()}static async readFile(e){return await window.api.readFile(e)}static async writeFile(e,n){return await window.api.writeFile(e,n)}static async listJsonFiles(e){return await window.api.listJsonFiles(e)}static async deleteFile(e){return await window.api.deleteFile(e)}}class k{static async getFolderPath(){return await v()}static async getPlans(){const e=await this.getFolderPath();if(!e)return[];try{const n=await h.listJsonFiles(e),o=[];for(const r of n)try{const s=await h.readFile(r),a=JSON.parse(s),c=r.replace(/\\/g,"/").split("/").pop();o.push({...a,__id:r,__filename:c})}catch(s){console.error("Failed reading plan",r,s)}return o.sort((r,s)=>(s.updated||s.created||"").localeCompare(r.updated||r.created||"")),o}catch(n){return console.error("Error listing plans:",n),[]}}static async createPlan(e,n){const o=await this.getFolderPath();if(!o)throw new Error("No test plan folder set.");const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let s="";for(let u=0;u<12;u++)s+=r.charAt(Math.floor(Math.random()*r.length));const a=`${s}.json`,c=`${o}/${a}`,l={title:e||"New Test Plan",description:n||"",created:new Date().toISOString(),updated:new Date().toISOString(),testPlan:[]};return await h.writeFile(c,l),{...l,__id:c,__filename:a}}static async getPlan(e){const n=await this.getFolderPath();if(!n)throw new Error("No folder set");const o=`${n}/${e}`,r=await h.readFile(o);return{...JSON.parse(r),__id:o,__filename:e}}static async updatePlan(e,n){const r=`${await this.getFolderPath()}/${e}`,a={...await this.getPlan(e),...n,updated:new Date().toISOString()};return delete a.__id,delete a.__filename,await h.writeFile(r,a),{...a,__id:r,__filename:e}}static async deletePlan(e){const o=`${await this.getFolderPath()}/${e}`;await h.deleteFile(o)}}function H(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function B(t,e){const n=i.createContext(e),o=s=>{const{children:a,...c}=s,l=i.useMemo(()=>c,Object.values(c));return g.jsx(n.Provider,{value:l,children:a})};o.displayName=t+"Provider";function r(s){const a=i.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[o,r]}function Z(t,e=[]){let n=[];function o(s,a){const c=i.createContext(a),l=n.length;n=[...n,a];const u=d=>{const{scope:m,children:f,...w}=d,P=m?.[t]?.[l]||c,N=i.useMemo(()=>w,Object.values(w));return g.jsx(P.Provider,{value:N,children:f})};u.displayName=s+"Provider";function p(d,m){const f=m?.[t]?.[l]||c,w=i.useContext(f);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,p]}const r=()=>{const s=n.map(a=>i.createContext(a));return function(c){const l=c?.[t]||s;return i.useMemo(()=>({[`__scope${t}`]:{...c,[t]:l}}),[c,l])}};return r.scopeName=t,[o,_(r,...e)]}function _(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const a=o.reduce((c,{useScope:l,scopeName:u})=>{const d=l(s)[`__scope${u}`];return{...c,...d}},{});return i.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var S=globalThis?.document?i.useLayoutEffect:()=>{};function F(t){const e=O(t),n=i.forwardRef((o,r)=>{const{children:s,...a}=o,c=i.Children.toArray(s),l=c.find(M);if(l){const u=l.props.children,p=c.map(d=>d===l?i.Children.count(u)>1?i.Children.only(null):i.isValidElement(u)?u.props.children:null:d);return g.jsx(e,{...a,ref:r,children:i.isValidElement(u)?i.cloneElement(u,void 0,p):null})}return g.jsx(e,{...a,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function O(t){const e=i.forwardRef((n,o)=>{const{children:r,...s}=n;if(i.isValidElement(r)){const a=T(r),c=R(s,r.props);return r.type!==i.Fragment&&(c.ref=o?E(o,a):a),i.cloneElement(r,c)}return i.Children.count(r)>1?i.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var A=Symbol("radix.slottable");function M(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===A}function R(t,e){const n={...e};for(const o in e){const r=t[o],s=e[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...c)=>{const l=s(...c);return r(...c),l}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function T(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],G=$.reduce((t,e)=>{const n=F(`Primitive.${e}`),o=i.forwardRef((r,s)=>{const{asChild:a,...c}=r,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...c,ref:s})});return o.displayName=`Primitive.${e}`,{...t,[e]:o}},{});function K(t,e){t&&C.flushSync(()=>t.dispatchEvent(e))}function Q(t){const e=i.useRef(t);return i.useEffect(()=>{e.current=t}),i.useMemo(()=>(...n)=>e.current?.(...n),[])}function b(t,e){return i.useReducer((n,o)=>e[n][o]??n,t)}var I=t=>{const{present:e,children:n}=t,o=D(e),r=typeof n=="function"?n({present:o.isPresent}):i.Children.only(n),s=x(o.ref,j(r));return typeof n=="function"||o.isPresent?i.cloneElement(r,{ref:s}):null};I.displayName="Presence";function D(t){const[e,n]=i.useState(),o=i.useRef(null),r=i.useRef(t),s=i.useRef("none"),a=t?"mounted":"unmounted",[c,l]=b(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const u=y(o.current);s.current=c==="mounted"?u:"none"},[c]),S(()=>{const u=o.current,p=r.current;if(p!==t){const m=s.current,f=y(u);t?l("MOUNT"):f==="none"||u?.display==="none"?l("UNMOUNT"):l(p&&m!==f?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,l]),S(()=>{if(e){let u;const p=e.ownerDocument.defaultView??window,d=f=>{const P=y(o.current).includes(CSS.escape(f.animationName));if(f.target===e&&P&&(l("ANIMATION_END"),!r.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",u=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},m=f=>{f.target===e&&(s.current=y(o.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{p.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:i.useCallback(u=>{o.current=u?getComputedStyle(u):null,n(u)},[])}}function y(t){return t?.animationName||"none"}function j(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var U=i.createContext(void 0);function X(t){const e=i.useContext(U);return t||e||"ltr"}export{G as P,k as T,Q as a,Z as b,H as c,K as d,I as e,B as f,X as g,S as u};
